
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Unifesp SHARED</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

    <!-- Custom styles for this template -->
    <link href="css/main.css" rel="stylesheet">
     <link href="css/offcanvas.css" rel="stylesheet">

  </head>

<body>
<div class="container">
	<!-- Button trigger modal -->

<div class="container"> 
    <hr class="prettyline">
    <br>
    <center>
    <h1><b>Nope, nope, NOPE!</b></h1>
    <h3>Antes de usar nosso serviço você precisa logar ou se cadastrar!</h3>
    <em>Obs. Para se cadastrar você precisara de uma chave de convite... sorry.</em>
    <br>
    <br>
    <br>
  <button class="btn btn-primary btn-lg" href="#signup" data-toggle="modal" data-target=".bs-modal-sm">Entrar/Cadastrar</button>
  </center>
  <br>
    <hr class="prettyline">
 </div>
  
  

<!-- Modal -->
<div class="modal fade bs-modal-sm" id="myModal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
        <br>
        <div class="bs-example bs-example-tabs">
            <ul id="myTab" class="nav nav-tabs">
              <li class="active"><a href="#signin" data-toggle="tab">Entrar</a></li>
              <li class=""><a href="#signup" data-toggle="tab">Cadastrar</a></li>
              <li class=""><a href="#why" data-toggle="tab">Por que?</a></li>
            </ul>
        </div>
      <div class="modal-body">
        <div id="myTabContent" class="tab-content">
        <div class="tab-pane fade in" id="why">
        <p>Unifesp SHARED é um serviço voltado para alunos, e alunos somente. Dessa forma temos um controle maior sobre os visitantes, ou assim esperamos. Não se preocupe. Não iremos usar suas informações para fazer pactos, compras na Steam, ou vende-las para terceiros com interesses mais obscuros...</p>
        <p></p><br> Dúvida? Entre em contato: <a mailto:href="teste@teste.com"></a>emaildoprofessor@unifesp.com</a></p>
        </div>
        <div class="tab-pane fade active in" id="signin">
            <form class="form-horizontal" id="signinForm">
            <fieldset>
            <!-- Sign In Form -->
            <!-- Text input-->
            <div class="control-group">
              <label class="control-label" for="useridSign">Email:</label>
              <div class="controls">
                <input required="" id="useridSign" name="useridSign" type="text" class="form-control" placeholder="mail@mail.com" class="input-medium" required="">
              </div>
            </div>

            <!-- Password input-->
            <div class="control-group">
              <label class="control-label" for="passwordSign">Password:</label>
              <div class="controls">
                <input required="" id="passwordSign" name="passwordSign" class="form-control" type="password" placeholder="********" class="input-medium">
              </div>
            </div>

            <!-- Multiple Checkboxes (inline) 
            <div class="control-group">
              <label class="control-label" for="rememberme"></label>
              <div class="controls">
                <label class="checkbox inline" for="rememberme-0">
                  <input type="checkbox" name="rememberme" id="rememberme-0" value="Remember me">
                  Remember me
                </label>
              </div>
            </div> -->
			<div id='resultLogin'></div>
            <!-- Button -->
            <div class="control-group">
              <label class="control-label" for="signin"></label>
              <div class="controls">
                <button id="signinBtn" name="signin" class="btn">Entrar</button>
              </div>
            </div>
            </fieldset>
            </form>
        </div>
        <div class="tab-pane fade" id="signup">
            <form class="form-horizontal">
            <fieldset>
            <!-- Sign Up Form -->
            <!-- Text input-->
            <div class="control-group">
              <label class="control-label" for="Email">Email:</label>
              <div class="controls">
                <input id="Email" name="Email" class="form-control" type="text" placeholder="mail@mail.com" class="input-large" required="">
              </div>
            </div>
            
            <!-- Text input-->
            <div class="control-group">
              <label class="control-label" for="userid">Nome:</label>
              <div class="controls">
                <input id="userid" name="userid" class="form-control" type="text" placeholder="Joaquim José da Silva Xavier" class="input-large" required="">
              </div>
            </div>
            
            <!-- Password input-->
            <div class="control-group">
              <label class="control-label" for="password">Password:</label>
              <div class="controls">
                <input id="password" name="password" class="form-control" type="password" placeholder="********" class="input-large" required="">
                <em>1-8 Characters</em>
              </div>
            </div>
            
            <!-- Text input-->
            <div class="control-group">
              <label class="control-label" for="reenterpassword">Re-Enter Password:</label>
              <div class="controls">
                <input id="reenterpassword" class="form-control" name="reenterpassword" type="password" placeholder="********" class="input-large" required="">
              </div>
            </div>
            
            <!-- Text input-->
            <div class="control-group">
              <label class="control-label" for="key">Chave de convite:</label>
              <div class="controls">
                <input id="key" name="key" class="form-control" type="text" placeholder="xY23a5e8JHSD9323ahs" class="input-large" required="">
              </div>
            </div>
            
            <div id='resultSign'></div>
            <!-- Button -->
            <div class="control-group">
              <label class="control-label" for="confirmsignup"></label>
              <div class="controls">
                <button id="confirmsignupBtn" name="confirmsignup" class="btn">Cadastrar</button>
              </div>
            </div>
            </fieldset>
            </form>
      </div>
    </div>
      </div>
      <div class="modal-footer">
      <center>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </center>
      </div>
    </div>
  </div>
</div>

 <footer>
        <p>&copy; Unifesp SHARED 2014</p>
        <div id='result'> Debug temporário... se o login não redirecionar para a home <a href="Home.html">click aqui!</a> (Obs. mas antes é necessário realizar o login no formulário normalmente para checagem...)</div>
      </footer>

    </div><!--/.container-->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/tabs.js"></script>
    <script src="js/angular.min.js"></script>
    <script type="text/javascript">
	$(document).ready( function () {
		$('#signinForm').on('submit', function (e) {
			e.preventDefault();
			console.log("Entrei no login");
			var email = $("#emailSign").val();
			var userid = $("#useridSign").val();
			var password = $("#passwordSign").val();
			var container = document.getElementById('result');
			var dataUser = JSON.parse(window.localStorage.getItem("user"));
			if(dataUser && password == dataUser.password){
				dataUser.logged = true;
				window.localStorage.setItem("user", JSON.stringify(dataUser));
				console.log("Redirecionando para home");
				
				document.location = "home.html";
				//window.location.href="Home.html"; <<< TENTEI TBM
				
			}
			else{
				alert( 'Senha errada...');
			}
			
			return false;
			
		})
		$('#confirmsignupBtn').on('click', function (e) {
			
			var email = $("#email").val();
			var userid = $("#userid").val();
			var password = $("#password").val();
			var reenterpassword = $("#reenterpassword").val();
			var container = document.getElementById('result');
			if(password == reenterpassword){
				var dataUser = {
					"email": email,
					"userid": userid,
					"password": password,
					"logged": false
				}
				window.localStorage.setItem("user", JSON.stringify(dataUser));
				alert( 'Cadastrado com sucesso');
			}
			else{
				alert( 'Senhas diferem, tente novamente');
			}
		});
	});
    </script>
    
  </body>
</html>
</body>
</html>
